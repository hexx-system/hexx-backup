module.exports = {
  DBLAPI: function(options) {
    const fetch = require("node-fetch")
    const Discord = require('discord.js')
    const client = options.client
    if(!options.client) return new Error('You did not pass in your discord client!');
    if(!options.authorization) return new Error('You did not pass in your bot authorization!');

    var requestOptions = {
      method: 'POST',
      headers: {
        "authorization": options.authorization,
        "Content-Type": "application/json"
      },
      body: JSON.stringify({"server_count": client.guilds.cache.size}) // Replace this number with the server count
    };

    fetch(`https://main.openbots.hstn.me/api/auth/stats/${client.user.id}`, requestOptions) // Make sure you include the domain
    .then(response => response.text())
    .then(console.log)
    .catch(console.error);
  }
}
